{% extends 'base.html' %}

{% block head_title %}
  Home Page
{% endblock %}

{% block content %}
  <style>
    .castom-card {
      position: relative;
      width: 300px;
      height: 280px;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 35px 80px lightgray;
      transition: 0.8s;
      margin-bottom: 100px;
    }
    
    .castom-card:hover {
      height: 350px;
    }
    .imaBx {
      position: absolute;
      left: 50%;
      top: -50px;
      transform: translateX(-50%);
      width: 150px;
      height: 150px;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 15px 50px lightgray;
      overflow: hidden;
    }
    
    .castom-card:hover .imaBx {
      width: 230px;
      height: 230px;
    }
    
    .imaBx img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .contaiter-card {
      display: flex;
      justify-content: center;
      gap: 50px;
      flex-wrap: wrap;
      margin-top: 150px;
      margin-bottom: 50px;
    }
    .castom-card .content-card {
      padding: 10px;
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      transition: 0.8s;
      overflow: hidden;
    }
    hr {
      border: none;
      background: linear-gradient(to left, #eab92d 0%, #c79810 100%);
      height: 3px;
    }
    
    .category-div a {
      display: block;
      position: absolute;
      bottom: 45%;
      right: 45%;
      padding: 1.5rem;
      text-align: center;
      border-radius: 10px;
      background-color: rgb(145, 109, 5);
      font-weight: 600;
      text-decoration: none;
      color: white;
      opacity: 0.6;
      transition: background-color 0.3s;
    }
    
    .category-div:hover a {
      background-color: rgb(63, 48, 7);
    }
    .category-image {
      width: 90%;
      opacity: 0.8;
    }
    .actionBtn {
      padding-bottom: 10px;
      padding-top: 10px;
    }
    .castom-boder-image {
      border: 5px solid rgb(145, 109, 5);
      margin-top: 80px;
    }
  </style>

  {% comment %}Banner Section{% endcomment %}
  <div class="video-container position-relative">
    <video id="backgroundVideo" class="w-100 rounded-bottom" style="height: 400px; object-fit: cover;" autoplay loop muted playsinline>
      <source src="https://assets.eflorist.com/themes/custom-templates/3/32084100/32084100-default/videos/winter_desktop.mp4" type="video/mp4" />Your browser does not support the video tag.
    </video>
    <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center">
      <div class="overlay-text text-center text-white">
        <h5 class="fs-1 fst-italic">Blossom Your Moments with Elegance</h5>
        <p>Cheerful designs to remind us that spring is on the way.</p>
        <a href="#" id="exploreBtn" class="castom-btn">Pause</a>
      </div>
    </div>
  </div>

  {% comment %}Card section{% endcomment %}
  <h1 class="text-center fst-italic mt-5">TRENDING now</h1>
  <div class="contaiter-card">
    {% for flower in all_flowers|slice:':10' %}
      <div class="castom-card">
        <div class="imaBx">
          <img src="{{ flower.image_url }}" alt="" />
        </div>
        <div class="content-card">
          <div class="data">
            <h4 class="">{{ flower.title }}</h4>

            <h5 class="fw-bold">Price : {{ flower.price }}</h5>
            <div>
              <div class="actionBtn">
                <a href="{% url 'add_order' flower.id %}" class="castom-btn">Buy Now</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  <div class="mx-auto" style="width: 90%;margin-top: 150px;margin-bottom: 150px;">
    <h1 class="mb-5">All Categories</h1>

    <hr />
    <div class="category-container">
      <div class="row mt-5">
        <div class="col-4">
          {% for category in categories|slice:':1' %}
            <div class="category-div mb-3 position-relative">
              <img class="rounded category-image" src="{{ category.image_url }}" alt="" style="height: 500px;" />
              <a href="{% url 'search_category_with_id' category.id %}" class="w-25">{{ category.category_name }}<br />({{ category.category_flower.all|length }})</a>
            </div>
          {% endfor %}
        </div>

        <div class="col-8">
          <div class="row">
            <div class="col-6 position-relative">
              {% for category in categories|slice:'1:2' %}
                <div class="category-div mb-3 position-relative">
                  <img class="rounded category-image" src="{{ category.image_url }}" alt="" style="height: 250px;" />
                  <a href="{% url 'search_category_with_id' category.id %}" class="w-25">{{ category.category_name }}<br />({{ category.category_flower.all|length }})</a>
                </div>
              {% endfor %}
            </div>
            <div class="col-6">
              {% for category in categories|slice:'2:3' %}
                <div class="category-div mb-3 position-relative">
                  <img class="category-image rounded" src="{{ category.image_url }}" alt="" style="height: 250px;" />
                  <a href="{% url 'search_category_with_id' category.id %}" class="w-25">{{ category.category_name }}<br />({{ category.category_flower.all|length }})</a>
                </div>
              {% endfor %}
            </div>
            <div class="col-6">
              {% for category in categories|slice:'3:4' %}
                <div class="category-div mb-3 position-relative">
                  <img class="category-image rounded" src="{{ category.image_url }}" alt="" style="height: 250px;" />
                  <a href="{% url 'search_category_with_id' category.id %}" class="w-25">{{ category.category_name }}<br />({{ category.category_flower.all|length }})</a>
                </div>
              {% endfor %}
            </div>
            <div class="col-6">
              {% for category in categories|slice:'4:5' %}
                <div class="category-div mb-3 position-relative">
                  <img class="category-image rounded" src="{{ category.image_url }}" alt="" style="height: 250px;" />
                  <a href="{% url 'search_category_with_id' category.id %}" class="w-25">{{ category.category_name }}<br />({{ category.category_flower.all|length }})</a>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="text-center my-5 fs-2">
    <h2>Shop By Occasions & Relations</h2>
    <p class="">Surprise Your Loved Ones</p>
  </div>
  <div id="carouselExampleControlsNoTouching" class="carousel slide my-5" data-bs-touch="false" data-ride="carousel" data-interval="2000">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="rounded-pill w-100 castom-boder-image" src="https://imgcdn.floweraura.com/flower_homepage_fa_desktop_18.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
      <div class="carousel-item">
        <img class="rounded-pill w-100 castom-boder-image" src="https://imgcdn.floweraura.com/plant_homepage_fa_desktop_3_0.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
      <div class="carousel-item">
        <img class="rounded-pill w-100 castom-boder-image" src="https://imgcdn.floweraura.com/anniversary_homepage_fa_desktop_3.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
      <div class="carousel-item">
        <img class="rounded-pill w-100 castom-boder-image" src="https://imgcdn.floweraura.com/cake_homepage_fa_desktop_14.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <script>
    document.getElementById('exploreBtn').addEventListener('click', function () {
      var video = document.getElementById('backgroundVideo')
      if (video.paused) {
        video.play()
      } else {
        video.pause()
      }
    })
  </script>
{% endblock %}
