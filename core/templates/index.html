{% extends 'base.html' %}

{% block head_title %}
  Home Page
{% endblock %}

{% block content %}
  <style>
    .castom-card {
      position: relative;
      width: 300px;
      height: 230px;
      height: 280px;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 35px 80px lightgray;
      transition: 0.8s;
      margin-bottom: 100px;
    }
    
    .castom-card:hover {
      height: 350px;
    }
    .imaBx {
      position: absolute;
      left: 50%;
      top: -50px;
      transform: translateX(-50%);
      width: 150px;
      height: 150px;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 15px 50px lightgray;
      overflow: hidden;
    }
    
    .castom-card:hover .imaBx {
      width: 230px;
      height: 230px;
    }
    
    .imaBx img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .contaiter-card {
      display: flex;
      justify-content: center;
      gap: 50px;
      flex-wrap: wrap;
      margin-top: 150px;
      margin-bottom: 50px;
    }
    .castom-card .content-card {
      padding: 10px;
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      transition: 0.8s;
      overflow: hidden;
    }
  </style>

  {% comment %}Banner Section{% endcomment %}
  <div class="video-container position-relative">
    <video id="backgroundVideo" class="w-100 rounded-bottom" style="height: 400px; object-fit: cover;" autoplay loop muted playsinline>
      <source src="https://assets.eflorist.com/themes/custom-templates/3/32084100/32084100-default/videos/winter_desktop.mp4" type="video/mp4" />Your browser does not support the video tag.
    </video>
    <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center">
      <div class="overlay-text text-center text-white">
        <h5 class="fs-1 fst-italic">Blossom Your Moments with Elegance</h5>
        <p>Cheerful designs to remind us that spring is on the way.</p>
        <a style=" background-color:lightslategrey;" href="#" id="exploreBtn" class="btn">Pause</a>
      </div>
    </div>
  </div>

  {% comment %}category section{% endcomment %}

  {% comment %}Card section{% endcomment %}
  <h1 class="text-center fst-italic mt-5">TRENDING now</h1>
  <div class="contaiter-card">
    {% for flower in all_flowers|slice:':8' %}
      <div class="castom-card">
        <div class="imaBx">
          <img src="{{ flower.image_url }}" alt="" />
        </div>
        <div class="content-card">
          <div class="data">
            <h4 class="">{{ flower.title }}</h4>

            <h5 class="fw-bold">Price : {{ flower.price }}</h5>
            <div>
              <div class="actionBtn">
                <a href="{% url 'add_order' flower.id %}" class="btn btn-primary">Buy Now</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="d-flex my-5 justify-content-around">
    {% for category in categories %}
      <a class="btn text-white" href="{% url 'category_search' category.id %}" style=" background-color:lightslategrey;">{{ category.category_name }}</a>
    {% endfor %}
  </div>
  <div class="container my-5">
    <div class="row row-cols-1 row-cols-md-3 g-4">
      {% for flower in flowers|slice:':6' %}
        <div class="col">
          <div class="card h-100">
            <img src="{{ flower.image_url }}" class="card-img-top img-fluid p-3 rounded" alt="..." />
            <div class="card-body">
              <h4 class="card-title fw-bolder">{{ flower.title }}</h4>
              <h5 class="fw-bold">Price : {{ flower.price }}</h5>
              <h5 class="">Available Quantity : {{ flower.available_quantity }}</h5>
              <p class="card-text">{{ flower.description }}</p>

              <a href="{% url 'add_order' flower.id %}" class="btn btn-primary">Buy Now</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  <div class="text-center my-5 fs-2">
    <h2>Shop By Occasions & Relations</h2>
    <p class="">Surprise Your Loved Ones</p>
  </div>
  <div id="carouselExampleControlsNoTouching" class="carousel slide my-5" data-bs-touch="false" data-ride="carousel" data-interval="2000">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="rounded-pill w-100" src="https://imgcdn.floweraura.com/flower_homepage_fa_desktop_18.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
      <div class="carousel-item">
        <img class="rounded-pill w-100" src="https://imgcdn.floweraura.com/plant_homepage_fa_desktop_3_0.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
      <div class="carousel-item">
        <img class="rounded-pill w-100" src="https://imgcdn.floweraura.com/anniversary_homepage_fa_desktop_3.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
      <div class="carousel-item">
        <img class="rounded-pill w-100" src="https://imgcdn.floweraura.com/cake_homepage_fa_desktop_14.jpg?tr=w-1583,q-70" class="d-block w-100" alt="..." />
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <script>
    document.getElementById('exploreBtn').addEventListener('click', function () {
      var video = document.getElementById('backgroundVideo')
      if (video.paused) {
        video.play()
      } else {
        video.pause()
      }
    })
  </script>
{% endblock %}
